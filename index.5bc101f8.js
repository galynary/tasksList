const t=document.querySelector(".task__list"),e=document.querySelector(".btn__task-create");let a=JSON.parse(localStorage.getItem("tasks"))||[];function s(e){let s=document.createElement("li");s.classList.add("task__item"),s.dataset.id=e.id,s.innerHTML=`\n  <div class="task__text">\n    <textarea class="task__text-name" placeholder="Введіть завдання">${e.name}</textarea>\n  </div>\n  <div class="task">\n    <div class="task__time-inner">\n      <div class="task__time">\n        <input\n          type="datetime-local"\n          name="datime"\n          min="2024-06-30T00:00"\n          max="2035-06-30T00:00"\n          value="${e.time}" class="task__text-input"\n        />\n        <label for="task__text" class="task__label">Введіть дату виконання</label>\n      </div>\n      <div class="task__time-left">\n        <span class="countdown">${e.timeLeft||""}</span>\n        <label for="task__text" class="time-left__label"> до завершення залишилося</label>\n      </div>\n    </div>\n    <div class="task__buttons">\n      <button type="button" class="task__save button">Зберегти</button>\n      <button type="button" class="task__delete button">Видалити</button>\n    </div>\n  </div>`,t.append(s),s.querySelector(".task__save").addEventListener("click",(()=>function(t){let e=t.querySelector(".task__text-name").value;if(""===e)return void alert("Спочатку введіть своє завдання!!!");let s=parseInt(t.dataset.id),n=a.find((t=>t.id===s));n&&(n.name=e,localStorage.setItem("tasks",JSON.stringify(a)))}(s))),s.querySelector(".task__delete").addEventListener("click",n);let i=s.querySelector(".task__time input");i.addEventListener("input",(t=>{let e=parseInt(s.dataset.id),n=a.find((t=>t.id===e));n&&(n.time=i.value,localStorage.setItem("tasks",JSON.stringify(a)),l(s,n.time,n))})),e.time&&l(s,e.time,e)}function n(e){let s=e.target.closest("li"),n=parseInt(s.dataset.id),l=a.findIndex((t=>t.id===n));-1!==l&&(a.splice(l,1),t.removeChild(s),localStorage.setItem("tasks",JSON.stringify(a)),a.forEach(((e,a)=>{e.id=a+1;let s=t.querySelector(`[data-id="${a+1}"]`);s&&(s.dataset.id=e.id)})),localStorage.setItem("tasks",JSON.stringify(a)))}e.addEventListener("click",(function(){let t={id:a.length+1,name:"",time:"",timeLeft:""},e=a[a.length-1];a.length&&""===e.name.trim()?alert("Спочатку введіть своє завдання!!!"):(a.push(t),localStorage.setItem("tasks",JSON.stringify(a)),s(t))})),a.forEach(s);const l=(t,e,s)=>{const n=t.querySelector(".countdown"),l=document.querySelector(".time-left__label"),i=()=>{const t=(new Date).getTime(),i=new Date(e).getTime()-t;if(i>0){l.style.display="block";const t=`${Math.floor(i/864e5)}д ${Math.floor(i%864e5/36e5)}г ${Math.floor(i%36e5/6e4)}хв ${Math.floor(i%6e4/1e3)}сек`;n.textContent=t,s.timeLeft=t,localStorage.setItem("tasks",JSON.stringify(a))}else clearInterval(o),n.textContent="Термін вичерпано",s.timeLeft="Термін вичерпано",localStorage.setItem("tasks",JSON.stringify(a))};i();const o=setInterval(i,1e3)};
//# sourceMappingURL=index.5bc101f8.js.map
